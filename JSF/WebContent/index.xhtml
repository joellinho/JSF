<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:m="http://java.sun.com/jsf/composite/primefaces"
	xmlns:p="http://primefaces.org/ui" >

<h:head>

	<link rel="stylesheet" type="text/css" href="resources/css/estilos.css" />	
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>login</title>
	
	<script type="text/javascript">  
	    function handleLoginRequest(xhr, status, args) {  
	        if(args.validationFailed || !args.loggedIn) {  
	            PF('dlg').jq.effect("shake", { times:5 }, 100);  
	        }   
	        else {  
	            PF('dlg').hide();  
	            $('#loginLink').fadeOut();  
	        }  
	    }  
	</script> 
</h:head>

<h:body>

	<h:form>
		<h:selectOneMenu value="#{localeBean.language}" onchange="submit()">
			<f:selectItem itemValue="en" itemLabel="English" />
			<f:selectItem itemValue="es" itemLabel="EspaÃ±ol" />
		</h:selectOneMenu>
	</h:form>

<div class="conteiner">
	<h:form>
		<p:growl id="growl" showDetail="true" life="3000"/> 	
		<p:panel header="#{msg['login.text']}"  >  
		 	<h:panelGrid columns="2" cellpadding="5">  
	            <h:outputLabel for="txtUsuario" value="#{msg['usuario.Nombre']}" />  
	            <p:inputText value="#{usuario.usuario}" id="txtUsuario" required="true" label="username" />  
	              
	            <h:outputLabel for="txtPassword" value="#{msg['usuario.Contrasena']}" />  
	            <h:inputSecret value="#{usuario.clave}" id="txtPassword" required="true" label="password" />  
	              
	            <f:facet name="footer">  
	                <p:commandButton id="loginButton" value="#{msg['button.Procesar']}" icon=".ui-state-default .icon-login" iconPos="right" update="growl"   
	                    action="#{usuario.Validar}"   
	                    oncomplete="handleLoginRequest(xhr, status, args)"/>  
	            </f:facet>  
       	 	</h:panelGrid>  
			
		</p:panel> 
	</h:form>

	<!-- 
	<script src="http://dl.javafx.com/dtfx.js"></script>
	<script>
            javafx(
            {
                archive: "HelloApplet.jar",
                draggable: true,
                width: 150,
                height: 100,
                code: "hello.HelloApplet",
                name: "Wiki"
            }
        );
        </script>
         -->
</div>
   
</h:body>
</html>